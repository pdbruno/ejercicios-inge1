

----QUIT----(11 September 2022 19:10:09) CuisUniversity-5481.image priorSource: 2810882!

----STARTUP---- (11 September 2022 19:10:10) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-5481.image!


----QUIT----(11 September 2022 19:10:10) CuisUniversity-5481.image priorSource: 7059465!

----STARTUP---- (31 October 2022 18:07:33) as C:\Users\Patricio\Desktop\windows64\CuisUniversity-5481.image!


----End fileIn of C:\Users\Patricio\Desktop\Iteracion1\Iteracion1\TusLibros-18.st----!

TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'pdb 10/31/2022 18:10:43'!
TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 18:11:43'!
test01CanNotCheckoutEmptyCart

	! !
!Cart methodsFor: 'initialization' stamp: 'pdb 10/31/2022 18:12:59' prior: 50552307!
initializeAcceptingItemsOf: aCatalog

	catalog := aCatalog.
	items := Bag new.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:13:00'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 10/31/2022 18:13:00'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 10/31/2022 18:13:00'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 10/31/2022 18:13:00'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:13:00'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 10/31/2022 18:13:00'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 10/31/2022 18:13:00'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 10/31/2022 18:13:00'!
PASSED!
!Cart methodsFor: 'adding' stamp: 'pdb 10/31/2022 18:13:58'!
add:  anItem withOccurrences: aQuantity

	self assertIsValidQuantity: aQuantity.
	self assertIsValidItem: anItem.
	items add: anItem withOccurrences: aQuantity.! !
!CartTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 18:15:30' prior: 50552361!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: self itemSellByTheStore withOccurrences: 0 ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 18:15:55' prior: 50552416!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: self itemNotSellByTheStore of:  2 ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 18:16:22' prior: 50552524!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: self itemNotSellByTheStore withOcurrences:  2 ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !

!methodRemoval: Cart #add:of: stamp: 'pdb 10/31/2022 18:16:41'!
add: aQuantity of: anItem

	self assertIsValidQuantity: aQuantity.
	self assertIsValidItem: anItem.

	1 to: aQuantity do: [ :aNumber | items add: anItem ]!
!CartTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 18:17:09' prior: 50552387!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := self createCart.
	
	cart add: self itemSellByTheStore withOccurrences: 2.
	self assert: (cart occurrencesOf: self itemSellByTheStore) = 2! !
!Cart methodsFor: 'adding' stamp: 'pdb 10/31/2022 18:17:32' prior: 50552333!
add: anItem

	^ self add: anItem withOccurrences: 1 ! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:17:39'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:17:41'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 10/31/2022 18:17:41'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 10/31/2022 18:17:41'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 10/31/2022 18:17:41'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:17:41'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 10/31/2022 18:17:41'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 10/31/2022 18:17:41'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 10/31/2022 18:17:41'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:17:41'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 18:17:53' prior: 50552537!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: self itemNotSellByTheStore withOccurrences:  2 ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:17:54'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:17:58'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 10/31/2022 18:17:58'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 10/31/2022 18:17:58'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 10/31/2022 18:17:58'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:17:58'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 10/31/2022 18:17:58'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 10/31/2022 18:17:58'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 10/31/2022 18:17:58'!
PASSED!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:19:45'!
defaultCatalog
	self itemSellByTheStore! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:20:58' prior: 50552646!
defaultCatalog
	^ Array withAll: self itemsSoldByTheStore! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:21:22'!
itemsSoldByTheStore
	^ Array with: 'item' with: 'item2'! !

----End fileIn of C:\Users\Patricio\Desktop\windows64\Packages\TerseGuide.pck.st----!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:25:59'!
defaultPriceList
	^ Dictionary new; add: 'item1'->4; add: 'item1'->3; add: 'item1'->1; yourself.	! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:26:25' prior: 50552655!
itemsSoldByTheStore
	^ self defaultPriceList keys! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:27:31'!
createCart
	
	^Cart acceptingItemsOf: self defaultCatalog! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 18:28:23' prior: 50552468!
test01CanNotCheckoutEmptyCart

	|cart cashier|
	cart := self createCart.
	
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 18:35:37' prior: 50555594!
test01CanNotCheckoutEmptyCart

	|cart cashier card |
	cart := self createCart.
	cashier := self createCashier.
	card := 'dummy card'.
	self should: [cashier charactersOf: cart and: card]  raise: Error withMessageText: 'No se puede hacer checkout de un carrito vacio.' 
	
	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:35:51'!
ERROR!

Object subclass: #TusLibrosCatalog
	instanceVariableNames: 'booksPriceList'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #TusLibrosCatalog category: 'TusLibros' stamp: 'pdb 10/31/2022 18:37:41'!
Object subclass: #TusLibrosCatalog
	instanceVariableNames: 'booksPriceList'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #TusLibrosCatalog
	instanceVariableNames: 'items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #TusLibrosCatalog category: 'TusLibros' stamp: 'pdb 10/31/2022 18:37:56'!
Object subclass: #TusLibrosCatalog
	instanceVariableNames: 'items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosCatalog class methodsFor: 'no messages' stamp: 'pdb 10/31/2022 18:38:55'!
with: aDictionaryOfItemsAndPrices
	
	self initializeWith: aDictionaryOfItemsAndPrices copy.! !
!CartTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:40:53' prior: 50552446!
defaultCatalog
	
	^TusLibrosCatalog with: (Dictionary new add: self itemSellByTheStore -> 10) new  ! !
!CartTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:40:54' prior: 50555644!
defaultCatalog
	
	^TusLibrosCatalog with: (Dictionary new add: self itemSellByTheStore -> 10)  ! !
!CartTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:41:12' prior: 50552441!
createCart
	
	^Cart acceptingItemsOf: self defaultCatalog items! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:41:19'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 10/31/2022 18:41:19'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 10/31/2022 18:41:20'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 10/31/2022 18:41:20'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:41:20'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 10/31/2022 18:41:20'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 10/31/2022 18:41:20'!
ERROR!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 10/31/2022 18:41:20'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:41:25'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 10/31/2022 18:41:25'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 10/31/2022 18:41:25'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 10/31/2022 18:41:25'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:41:25'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 10/31/2022 18:41:25'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 10/31/2022 18:41:25'!
ERROR!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 10/31/2022 18:41:25'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:41:37'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:41:37'!
ERROR!
!TusLibrosCatalog class methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 18:41:53' prior: 50555638!
with: aDictionaryOfItemsAndPrices
	
	self new initializeWith: aDictionaryOfItemsAndPrices copy.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:42:00'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:42:00'!
ERROR!

!classDefinition: #TusLibrosCatalog category: 'TusLibros' stamp: 'pdb 10/31/2022 18:42:12'!
Object subclass: #TusLibrosCatalog
	instanceVariableNames: 'items renameMe1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosCatalog methodsFor: 'initialization' stamp: 'pdb 10/31/2022 18:42:12'!
initializeWith: aRenameMe1 
	self shouldBeImplemented.
	renameMe1 := aRenameMe1.! !
!TusLibrosCatalog methodsFor: 'initialization' stamp: 'pdb 10/31/2022 18:42:39' prior: 50555738!
initializeWith: aDictionaryOfItemsAndPrices 

	items := aDictionaryOfItemsAndPrices.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:42:43'!
ERROR!
!TusLibrosCatalog class methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 18:43:02' prior: 50555719!
with: aDictionaryOfItemsAndPrices
	
	^self new initializeWith: aDictionaryOfItemsAndPrices copy.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:43:08'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:43:08'!
ERROR!
!TusLibrosCatalog methodsFor: 'accessing' stamp: 'pdb 10/31/2022 18:43:15'!
items
	self shouldBeImplemented.
	^items! !
!TusLibrosCatalog methodsFor: 'accessing' stamp: 'pdb 10/31/2022 18:43:24' prior: 50555766!
items

	^items keys.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:43:30'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 10/31/2022 18:43:30'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 10/31/2022 18:43:30'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 10/31/2022 18:43:30'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:43:30'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 10/31/2022 18:43:30'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 10/31/2022 18:43:30'!
ERROR!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 10/31/2022 18:43:30'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:43:38'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:43:38'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:44:22'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:44:22'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:44:48'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:44:48'!
ERROR!
!CartTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:45:56' prior: 50555650!
defaultCatalog
	
	^TusLibrosCatalog with: (Dictionary new add: self itemSellByTheStore -> 10; yourself )  ! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:46:23'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:46:25'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:46:25'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 10/31/2022 18:46:25'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 10/31/2022 18:46:25'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 10/31/2022 18:46:25'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:46:25'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 10/31/2022 18:46:25'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 10/31/2022 18:46:25'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 10/31/2022 18:46:25'!
PASSED!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:46:36' prior: 50555589!
createCart
	
	^Cart acceptingItemsOf: self defaultCatalog items! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:47:18'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:47:18'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:47:52' prior: 50552650!
defaultCatalog
	^ TusLibrosCatalog with: self itemsSoldByTheStore! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:47:53'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:47:53'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:48:21' prior: 50555867!
defaultCatalog
	^ TusLibrosCatalog with: self defaultPriceList ! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:48:22'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:48:22'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:48:38' prior: 50555579!
defaultPriceList
	^ Dictionary new add: 'item1'->4; add: 'item1'->3; add: 'item1'->1; yourself.	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:48:39'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:48:39'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:48:53'!
createCashier
	
	^Cart acceptingItemsOf: self defaultCatalog items! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:50:30' prior: 50555901!
createCashier
	
	"^Cashier withCatalog"! !
!TusLibrosCatalog methodsFor: 'testing' stamp: 'pdb 10/31/2022 18:52:07'!
includes: anItem
	^items keys includes: anItem! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:52:32' prior: 50555856!
createCart
	
	^Cart acceptingItemsOf: self defaultCatalog! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:52:33'!
FAILURE!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:52:33'!
FAILURE!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:52:38'!
FAILURE!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:52:38'!
FAILURE!
!CartTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:52:53' prior: 50555656!
createCart
	
	^Cart acceptingItemsOf: self defaultCatalog! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:52:53'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 10/31/2022 18:52:53'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 10/31/2022 18:52:53'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 10/31/2022 18:52:53'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:52:53'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 10/31/2022 18:52:53'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 10/31/2022 18:52:53'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 10/31/2022 18:52:54'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 10/31/2022 18:54:35'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 10/31/2022 18:54:35'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 10/31/2022 18:54:35'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 10/31/2022 18:54:35'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 10/31/2022 18:54:35'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 10/31/2022 18:54:35'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 10/31/2022 18:54:35'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 10/31/2022 18:54:35'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 18:56:27' prior: 50555600!
test01CanNotCheckoutEmptyCart

	|cart cashier card |
	cart := self createCart.
	cashier := self createCashier.
	card := 'dummy card'.
	self should: [cashier charactersOf: cart and: card]  raise: Error withMessageText: cashier class cannotCheckoutEmptyCartErrorMessage
	
	! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'pdb 10/31/2022 18:57:32'!
Object subclass: #Cashier
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 18:57:21' prior: 50555906!
createCashier
	
	^Cashier withCatalog: self defaultCatalog.! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:57:42'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:57:42'!
ERROR!
!Cashier class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 18:57:53'!
withCatalog: aTusLibrosCatalog 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithCatalog: aTusLibrosCatalog ! !
!Cashier class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 18:58:21' prior: 50556018!
withCatalog: aCatalog 
	^self new initializeWith: aCatalog ! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:58:23'!
ERROR!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'pdb 10/31/2022 18:58:56'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'pdb 10/31/2022 18:58:56'!
initializeWith: aCatalog 
	self shouldBeImplemented.
	catalog := aCatalog.! !
!Cashier methodsFor: 'initialization' stamp: 'pdb 10/31/2022 18:59:06' prior: 50556041!
initializeWith: aCatalog 
	catalog := aCatalog.! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 18:59:08'!
ERROR!
!Cashier class methodsFor: 'error messages' stamp: 'pdb 10/31/2022 18:59:40'!
cannotCheckoutEmptyCartErrorMessage
	self shouldBeImplemented.! !
!Cashier class methodsFor: 'error messages' stamp: 'pdb 10/31/2022 19:00:05' prior: 50556055!
cannotCheckoutEmptyCartErrorMessage
	^ 'No se puede hacer checkout a un carrito vacío'! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:00:08'!
FAILURE!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:00:38' prior: 50555989!
test01CanNotCheckoutEmptyCart

	|cart cashier card |
	cart := self createCart.
	cashier := self createCashier.
	card := 'dummy card'.
	self should: [cashier charactersOf: cart and: card]  raise: Error - MessageNotUnderstood withMessageText: cashier class cannotCheckoutEmptyCartErrorMessage
	
	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:00:40'!
ERROR!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:01:15' prior: 50556069!
test01CanNotCheckoutEmptyCart

	|cart cashier card |
	cart := self createCart.
	cashier := self createCashier.
	card := 'dummy card'.
	self should: [cashier checkout: cart withCard: card]  raise: Error - MessageNotUnderstood withMessageText: cashier class cannotCheckoutEmptyCartErrorMessage
	
	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:01:22'!
ERROR!
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:01:39'!
checkout: aCart withCard: aString 
	self shouldBeImplemented.! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:02:04' prior: 50556099!
checkout: aCart withCard: aString 
	self error: self class cannotCheckoutEmptyCartErrorMessage.! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:02:05'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:02:05'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:02:14' prior: 50556084!
test01CanNotCheckoutEmptyCart

	|cart cashier card |
	cart := self createCart.
	cashier := self createCashier.
	card := 'dummy card'.
	self should: [cashier checkout: cart withCard: card]  raise: Error - MessageNotUnderstood withMessageText: Cashier cannotCheckoutEmptyCartErrorMessage
	
	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:02:16'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:02:16'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:04:50'!
test02CheckoutCartWithOneItemReturnsTotal

	|cart cashier card |
	cart := self createCart.
	cashier := self createCashier.
	card := 'dummy card'.
	self should: [cashier checkout: cart withCard: card] raise: Error - MessageNotUnderstood withMessageText: Cashier cannotCheckoutEmptyCartErrorMessage
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:05:27' prior: 50556134!
test02CheckoutCartWithOneItemReturnsTotal

	|cart cashier card |
	cart := self createCart.
	cashier := self createCashier.
	card := 'dummy card'.
	self should: [cashier checkout: cart withCard: card] raise: Error - MessageNotUnderstood withMessageText: Cashier cannotCheckoutEmptyCartErrorMessage
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:05:36' prior: 50556116!
test01CanNotCheckoutEmptyCart

	|cart cashier card |
	cart := self createCart.
	cashier := self createCashier.
	card := self createCard.
	self should: [cashier checkout: cart withCard: card]  raise: Error - MessageNotUnderstood withMessageText: Cashier cannotCheckoutEmptyCartErrorMessage
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:06:47' prior: 50556147!
test02CheckoutCartWithOneItemReturnsTotal

	|cart cashier card |
	cart := self createCart.
	cashier := self createCashier.
	card := self createCard.
	cart add: (self defaultCatalog ).
	self should: [cashier checkout: cart withCard: card] raise: Error - MessageNotUnderstood withMessageText: Cashier cannotCheckoutEmptyCartErrorMessage
	
	! !
!TusLibrosCatalog methodsFor: 'accessing' stamp: 'pdb 10/31/2022 19:09:35'!
priceOf: anItem

	^items at: anItem ifAbsent: [self error: 'El producto no se encuentra en el catalogo'].! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:10:09' prior: 50556172!
test02CheckoutCartWithOneItemReturnsTotal

	|cart cashier card |
	cart := self createCart.
	cashier := self createCashier.
	card := self createCard.
	cart add: (self defaultCatalog items at: 1).
	self should: [cashier checkout: cart withCard: card] raise: Error - MessageNotUnderstood withMessageText: Cashier cannotCheckoutEmptyCartErrorMessage
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:12:14' prior: 50556192!
test02CheckoutCartWithOneItemReturnsTotal

	|cart cashier card product |
	cart := self createCart.
	cashier := self createCashier.
	card := self createCard.
	product := self defaultCatalog items at: 1.
	cart add: product.
	self assert: (self defaultCatalog priceOf: product) equals: (cashier checkout: cart withCard: card).
	
	! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 19:12:56'!
createCard
	
	^'dummy card'! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:13:04'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:13:04'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:13:04'!
ERROR!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:13:20' prior: 50556206!
test02CheckoutCartWithOneItemReturnsTotal

	| cart cashier card product |
	cart := self createCart.
	cashier := self createCashier.
	card := self createCard.
	product := self defaultCatalog items at: 1.
	cart add: product.
	self assert: (self defaultCatalog priceOf: product) equals: (cashier checkout: cart withCard: card).
	
	! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:13:52' prior: 50556104!
checkout: aCart withCard: aString 
	
	self error: self class cannotCheckoutEmptyCartErrorMessage.! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:14:25' prior: 50556246!
checkout: aCart withCard: aString 
	
	aCart isEmpty ifTrue: [self error: self class cannotCheckoutEmptyCartErrorMessage].! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:14:53' prior: 50556252!
checkout: aCart withCard: aString 
	
	| total |
	aCart isEmpty ifTrue: [self error: self class cannotCheckoutEmptyCartErrorMessage].
	
	total := self total.! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:15:26' prior: 50556259!
checkout: aCart withCard: aString 
	
	| total |
	aCart isEmpty ifTrue: [self error: self class cannotCheckoutEmptyCartErrorMessage].
	
	total := self total.
	self debit: total from: aString.
	^total.! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:15:57'!
debit: aQuantity from: aCard 
	
	! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:18:02'!
total

	
	! !

Object subclass: #Cashier
	instanceVariableNames: 'cart catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'pdb 10/31/2022 19:18:06'!
Object subclass: #Cashier
	instanceVariableNames: 'cart catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'pdb 10/31/2022 19:19:44'!
initializeWithCatalog: aCatalog forCart: aCart
	catalog := aCatalog.
	cart:=aCart.! !

!methodRemoval: Cashier #initializeWith: stamp: 'pdb 10/31/2022 19:19:47'!
initializeWith: aCatalog 
	catalog := aCatalog.!
!Cashier class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 19:20:49'!
withCatalog: aCatalog forCart: aCart
	^self new initializeWith: aCatalog ! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:21:29' prior: 50556267!
checkout: aCart withCard: aString 
	
	| total |

	total := self total.
	self debit: total from: aString.
	^total.! !

!methodRemoval: Cashier class #withCatalog: stamp: 'pdb 10/31/2022 19:21:41'!
withCatalog: aCatalog 
	^self new initializeWith: aCatalog !
!Cashier class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 19:21:54' prior: 50556304!
withCatalog: aCatalog forCart: aCart

	aCart isEmpty ifTrue: [self error: self cannotCheckoutEmptyCartErrorMessage].
	^self new initializeWith: aCatalog ! !
!Cashier class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 19:22:57' prior: 50556321!
withCatalog: aCatalog forCart: aCart

	aCart isEmpty ifTrue: [self error: self cannotCheckoutEmptyCartErrorMessage].
	^self new initializeWithCatalog: aCatalog forCart: aCart ! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:23:18'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:23:18'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:23:21'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 19:25:23' prior: 50556007!
createCashier
	
	^Cashier withCatalog: self defaultCatalog forCart: self createCard.! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 19:25:35' prior: 50556347!
createCashier
	
	^Cashier withCatalog: self defaultCatalog forCart: self createCart.! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:25:36'!
ERROR!
!Cashier class methodsFor: 'error messages' stamp: 'pdb 10/31/2022 19:26:51'!
cannotInitializeWithEmptyCartErrorMessage
	^ 'No se puede inicializar un cajero con un carrito vacío'! !

!methodRemoval: Cashier class #cannotCheckoutEmptyCartErrorMessage stamp: 'pdb 10/31/2022 19:26:54'!
cannotCheckoutEmptyCartErrorMessage
	^ 'No se puede hacer checkout a un carrito vacío'!
!Cashier class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 19:27:02' prior: 50556329!
withCatalog: aCatalog forCart: aCart

	aCart isEmpty ifTrue: [self error: self cannotInitializeWithEmptyCartErrorMessage].
	^self new initializeWithCatalog: aCatalog forCart: aCart ! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:27:13'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:27:13'!
ERROR!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:28:30' prior: 50556160!
test01CanNotCheckoutEmptyCart

	

	self should: [self createCashier]  raise: Error - MessageNotUnderstood withMessageText: Cashier cannotInitializeWithEmptyCartErrorMessage 
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:28:38' prior: 50556390!
test01CanNotCheckoutEmptyCart

	self should: [self createCashier]  raise: Error - MessageNotUnderstood withMessageText: Cashier cannotInitializeWithEmptyCartErrorMessage 
	
	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:28:40'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:28:40'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:28:40'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:28:40'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 19:29:21'!
createCashier: aCart
	
	^Cashier withCatalog: self defaultCatalog forCart: self createCart.! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 19:29:34' prior: 50556420!
createCashier: aCart
	
	^Cashier withCatalog: self defaultCatalog forCart: aCart .! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 19:29:36' prior: 50556426!
createCashier: aCart
	
	^Cashier withCatalog: self defaultCatalog forCart: aCart.! !

!methodRemoval: CashierTest #createCashier stamp: 'pdb 10/31/2022 19:29:41'!
createCashier
	
	^Cashier withCatalog: self defaultCatalog forCart: self createCart.!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:30:56' prior: 50556399!
test01CanNotCheckoutEmptyCart
	
	| cart |
	
	cart := self createCart.

	self should: [self createCashier: cart]  raise: Error - MessageNotUnderstood withMessageText: Cashier cannotInitializeWithEmptyCartErrorMessage 
	
	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:30:59'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:30:59'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:30:59'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:30:59'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:31:15'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:31:15'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:31:15'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:31:15'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:31:49'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:32:25' prior: 50556233!
test02CheckoutCartWithOneItemReturnsTotal

	| cart cashier card product |
	cart := self createCart.
	product := self defaultCatalog items at: 1.
	cart add: product.
	cashier := self createCashier: cart.
	card := self createCard.
	self assert: (self defaultCatalog priceOf: product) equals: (cashier checkout: cart withCard: card).
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:32:41' prior: 50556482!
test02CheckoutCartWithOneItemReturnsTotal

	| cart cashier card product |
	cart := self createCart.
	product := self defaultCatalog items at: 1.
	cart add: product.
	cashier := self createCashier: cart.
	card := self createCard.
	self assert: (self defaultCatalog priceOf: product) equals: (cashier checkoutWithCard: card).
	
	! !

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:32:44'!
ERROR!

!methodRemoval: Cashier #checkout:withCard: stamp: 'pdb 10/31/2022 19:32:49'!
checkout: aCart withCard: aString 
	
	| total |

	total := self total.
	self debit: total from: aString.
	^total.!
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:33:43'!
total: aCart
	
	^aCart 
	
	! !
!Cart methodsFor: 'queries' stamp: 'pdb 10/31/2022 19:34:15'!
items

	^items! !

!methodRemoval: Cashier #total stamp: 'pdb 10/31/2022 19:34:26'!
total

	
	!
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:35:24' prior: 50556518!
total: aCart
	
	^aCart items inject: 0 into: [ :subTotal :anItem | catalog priceOf: anItem + subTotal ]
	
	! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:36:46'!
checkoutWithCard: aCard
	
	| total |
	
	total := self total.
	self debit: total from: aCard.
	
	^total
	
	! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:36:52'!
total
	
	^cart items inject: 0 into: [ :subTotal :anItem | catalog priceOf: anItem + subTotal ]
	
	! !

!methodRemoval: Cashier #total: stamp: 'pdb 10/31/2022 19:36:54'!
total: aCart
	
	^aCart items inject: 0 into: [ :subTotal :anItem | catalog priceOf: anItem + subTotal ]
	
	!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:36:59'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:36:59'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:36:59'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:37:18'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:37:18'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:38:10'!
ERROR!
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 19:38:36' prior: 50556539!
total
	
	^cart items inject: 0 into: [ :subTotal :anItem | (catalog priceOf: anItem) + subTotal ]
	
	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:38:37'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:38:37'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:39:28'!
test03CheckoutCartWithManyItemsReturnsTotal

	| cart cashier card product |
	cart := self createCart.
	product := self defaultCatalog items at: 1.
	cart add: product.
	cashier := self createCashier: cart.
	card := self createCard.
	self assert: (self defaultCatalog priceOf: product) equals: (cashier checkoutWithCard: card).
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:41:54' prior: 50556583!
test03CheckoutCartWithManyItemsReturnsTotal

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	card := self createCard.
	self assert: ((self defaultCatalog priceOf: product1) + self defaultCatalog priceOf: product2) equals: (cashier checkoutWithCard: card).
	
	! !

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:41:56'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:42:35'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:42:35'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:42:35'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:42:35'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 19:43:41' prior: 50555889!
defaultPriceList
	^ Dictionary new; add: 'item1'->4; add: 'item1'->3; add: 'item1'->1; yourself.	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:43:42'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:43:42'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:43:42'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:44:06'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:44:06'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:44:06'!
ERROR!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:44:08'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 19:44:36' prior: 50556630!
defaultPriceList
	^ (Dictionary new) add: 'item1'->4; add: 'item1'->3; add: 'item1'->1; yourself.	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:44:38'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:44:38'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:44:38'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:44:38'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 19:45:07' prior: 50556659!
defaultPriceList
	^ Dictionary new add: 'item1'->4; add: 'item2'->3; add: 'item3'->1; yourself.	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:45:08'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:45:08'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:45:08'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:45:08'!
ERROR!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 19:45:27' prior: 50556596!
test03CheckoutCartWithManyItemsReturnsTotal

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	card := self createCard.
	self assert: ((self defaultCatalog priceOf: product1) + (self defaultCatalog priceOf: product2)) equals: (cashier checkoutWithCard: card).
	
	! !

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:45:29'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 19:45:32'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 19:45:32'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 19:45:32'!
PASSED!

Object subclass: #CreditCard
	instanceVariableNames: 'expirationDate number owner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'pdb 10/31/2022 19:54:13'!
Object subclass: #CreditCard
	instanceVariableNames: 'expirationDate number owner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 19:56:10'!
withExpirationDate: anExporationDate andNumber: aCreditCArdNUmber forOwner: anOwnerName
	"hay validaciones pero entendemos que son de la interfaz"

	^self new initializewithExpirationDate: anExporationDate andNumber: aCreditCArdNUmber forOwner: anOwnerName! !
!CreditCard class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 19:57:32' prior: 50556742!
withExpirationDate: anExporationDate andNumber: aCreditCardNumber forOwner: anOwnerName
	"hay validaciones pero entendemos que son de la interfaz"

	^self new initializewithExpirationDate: anExporationDate andNumber: aCreditCardNumber forOwner: anOwnerName! !
!CreditCard methodsFor: 'accessing' stamp: 'pdb 10/31/2022 19:58:14'!
number
	^number ! !
!CreditCard methodsFor: 'accessing' stamp: 'pdb 10/31/2022 19:58:20'!
expirationDate
	^expirationDate ! !
!CreditCard methodsFor: 'accessing' stamp: 'pdb 10/31/2022 19:58:26'!
owner
	^owner ! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 20:06:24' prior: 50556219!
createCard
	
	^CreditCard withExpirationDate: Date tomorrow andNumber: 0 forOwner: ''! !
!CreditCard class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 21:01:05'!
withNumber: aCreditCardNumber andExpirationDate: anExpirationDate forOwner: anOwnerName
	"hay validaciones pero entendemos que son de la interfaz"

	^self new initializeWithNumber: aCreditCardNumber andExpirationDate: anExpirationDate forOwner: anOwnerName! !

!methodRemoval: CreditCard class #withExpirationDate:andNumber:forOwner: stamp: 'pdb 10/31/2022 21:01:08'!
withExpirationDate: anExporationDate andNumber: aCreditCardNumber forOwner: anOwnerName
	"hay validaciones pero entendemos que son de la interfaz"

	^self new initializewithExpirationDate: anExporationDate andNumber: aCreditCardNumber forOwner: anOwnerName!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 21:01:44' prior: 50556776!
createCard
	
	^CreditCard withNumber: 0 andExpirationDate: Date tomorrow forOwner: ''! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:02:23'!
test03CannotCheckoutCartWithExpiredCard

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	card := self createCard.
	self assert: ((self defaultCatalog priceOf: product1) + (self defaultCatalog priceOf: product2)) equals: (cashier checkoutWithCard: card).
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:02:31'!
test03CheckoutCartWithExpiredCardThrowsException

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	card := self createCard.
	self assert: ((self defaultCatalog priceOf: product1) + (self defaultCatalog priceOf: product2)) equals: (cashier checkoutWithCard: card).
	
	! !

!methodRemoval: CashierTest #test03CannotCheckoutCartWithExpiredCard stamp: 'pdb 10/31/2022 21:02:37'!
test03CannotCheckoutCartWithExpiredCard

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	card := self createCard.
	self assert: ((self defaultCatalog priceOf: product1) + (self defaultCatalog priceOf: product2)) equals: (cashier checkoutWithCard: card).
	
	!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:02:42'!
test04CheckoutCartWithExpiredCardThrowsException

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	card := self createCard.
	self assert: ((self defaultCatalog priceOf: product1) + (self defaultCatalog priceOf: product2)) equals: (cashier checkoutWithCard: card).
	
	! !

!methodRemoval: CashierTest #test03CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:02:44'!
test03CheckoutCartWithExpiredCardThrowsException

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	card := self createCard.
	self assert: ((self defaultCatalog priceOf: product1) + (self defaultCatalog priceOf: product2)) equals: (cashier checkoutWithCard: card).
	
	!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:03:11'!
ERROR!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'pdb 10/31/2022 21:03:27'!
Object subclass: #CreditCard
	instanceVariableNames: 'expirationDate number owner creditCardNumber'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'pdb 10/31/2022 21:03:27'!
Object subclass: #CreditCard
	instanceVariableNames: 'expirationDate number owner creditCardNumber ownerName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'initialization' stamp: 'pdb 10/31/2022 21:03:27'!
initializeWithNumber: aCreditCardNumber andExpirationDate: anExpirationDate forOwner: anOwnerName 
	self shouldBeImplemented.
	creditCardNumber := aCreditCardNumber.
	expirationDate := anExpirationDate.
	ownerName := anOwnerName.! !
!CreditCard methodsFor: 'initialization' stamp: 'pdb 10/31/2022 21:03:32' prior: 50556916!
initializeWithNumber: aCreditCardNumber andExpirationDate: anExpirationDate forOwner: anOwnerName 

	creditCardNumber := aCreditCardNumber.
	expirationDate := anExpirationDate.
	ownerName := anOwnerName.! !

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:03:38'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:04:21' prior: 50556861!
test04CheckoutCartWithExpiredCardThrowsException

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	card := self createCard.
	self assert: ((self defaultCatalog priceOf: product1) + (self defaultCatalog priceOf: product2)) equals: (cashier checkoutWithCard: card).
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:04:55' prior: 50556940!
test04CheckoutCartWithExpiredCardThrowsException

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	card := self createCardFor: Date yesterday.
	self assert: ((self defaultCatalog priceOf: product1) + (self defaultCatalog priceOf: product2)) equals: (cashier checkoutWithCard: card).
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:06:41' prior: 50556957!
test04CheckoutCartWithExpiredCardThrowsException

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	card := self createCardFor: Date yesterday.
	self should: [ cashier checkoutWithCard: card ] raise: Error - MessageNotUnderstood withMessageText: Cashier assignmentNotFoundErrorMessage.
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:06:53' prior: 50556975!
test04CheckoutCartWithExpiredCardThrowsException

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	card := self createCardFor: Date yesterday.
	self should: [ cashier checkoutWithCard: card ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cashier assignmentNotFoundErrorMessage.
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:07:37' prior: 50556993!
test04CheckoutCartWithExpiredCardThrowsException

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	card := self createCardFor: Date yesterday.
	self should: [ cashier checkoutWithCard: card ] raise: Error - MessageNotUnderstood withMessageText: Cashier creditCardExpiredErrorMessage.
	
	! !

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:08:16'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 21:08:24'!
createCardFor: aDate 
	self shouldBeImplemented.! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 21:08:52' prior: 50557032!
createCardFor: aDate 
	
	^CreditCard withNumber: 0 andExpirationDate: aDate forOwner: ''. 
	! !

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:08:55'!
ERROR!
!Cashier class methodsFor: 'error messages' stamp: 'pdb 10/31/2022 21:09:02'!
creditCardExpiredErrorMessage
	self shouldBeImplemented.! !
!Cashier class methodsFor: 'error messages' stamp: 'pdb 10/31/2022 21:09:25' prior: 50557047!
creditCardExpiredErrorMessage
	^'Cannot use an expired credit card.'.! !

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:09:27'!
FAILURE!
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 21:10:06' prior: 50556533!
checkoutWithCard: aCard
	
	| total |
	
	self assertCardIsNotExpired: aCard.
	
	total := self total.
	self debit: total from: aCard.
	
	^total
	
	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 21:10:09'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 21:10:09'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 21:10:09'!
ERROR!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:10:09'!
ERROR!
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 21:10:57'!
assertCardIsNotCurrentlyExpired: aCard
	
	aCard isExpiredOn! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 21:11:50' prior: 50557082!
assertCardIsNotCurrentlyExpired: aCard
	
	(aCard isExpiredOn: Date today) ifTrue: [^self error: self class creditCardExpiredErrorMessage ]! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 21:11:51'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 21:11:51'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 21:11:51'!
ERROR!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:11:51'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 21:11:58'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 21:11:58'!
ERROR!
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 21:12:13' prior: 50557061!
checkoutWithCard: aCard
	
	| total |
	
	self assertCardIsNotCurrentlyExpired: aCard.
	
	total := self total.
	self debit: total from: aCard.
	
	^total
	
	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 21:12:15'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 21:12:15'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 21:12:15'!
ERROR!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:12:15'!
ERROR!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 21:12:18'!
ERROR!
!CreditCard methodsFor: 'testing' stamp: 'pdb 10/31/2022 21:12:25'!
isExpiredOn: aDate 
	self shouldBeImplemented.! !
!CreditCard methodsFor: 'testing' stamp: 'pdb 10/31/2022 21:12:45' prior: 50557139!
isExpiredOn: aDate 
	
	^expirationDate  < aDate! !

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 21:12:48'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 21:12:55'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 21:12:55'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 21:12:55'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:12:55'!
PASSED!
!Cashier class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 21:18:43'!
withCatalog: aCatalog forCart: aCart withMerchantProcessor: aMerchantProcessor

	aCart isEmpty ifTrue: [self error: self cannotInitializeWithEmptyCartErrorMessage].
	^self new initializeWithCatalog: aCatalog forCart: aCart withMerchantProcessor: aMerchantProcessor! !

!methodRemoval: Cashier class #withCatalog:forCart:withMerchantProcessor: stamp: 'pdb 10/31/2022 21:19:36'!
withCatalog: aCatalog forCart: aCart withMerchantProcessor: aMerchantProcessor

	aCart isEmpty ifTrue: [self error: self cannotInitializeWithEmptyCartErrorMessage].
	^self new initializeWithCatalog: aCatalog forCart: aCart withMerchantProcessor: aMerchantProcessor!
!Cashier class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 21:20:27'!
withCatalog: aCatalog forCart: aCart withMerchantProcessor: aMerchantProcessor 

	aCart isEmpty ifTrue: [self error: self cannotInitializeWithEmptyCartErrorMessage].
	^self new initializeWithCatalog: aCatalog forCart: aCart ! !

!methodRemoval: Cashier class #withCatalog:forCart: stamp: 'pdb 10/31/2022 21:20:27'!
withCatalog: aCatalog forCart: aCart

	aCart isEmpty ifTrue: [self error: self cannotInitializeWithEmptyCartErrorMessage].
	^self new initializeWithCatalog: aCatalog forCart: aCart !
!Cashier class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 21:20:39' prior: 50557189!
withCatalog: aCatalog forCart: aCart withMerchantProcessor: aMerchantProcessor 

	aCart isEmpty ifTrue: [self error: self cannotInitializeWithEmptyCartErrorMessage].
	^self new initializeWithCatalog: aCatalog forCart: aCart withMerchantProcessor: aMerchantProcessor! !
!Cashier methodsFor: 'initialization' stamp: 'pdb 10/31/2022 21:20:56'!
initializeWithCatalog: aCatalog forCart: aCart withMerchantProcessor: aMerchantProcessor
	catalog := aCatalog.
	cart:=aCart.! !

!methodRemoval: Cashier #initializeWithCatalog:forCart: stamp: 'pdb 10/31/2022 21:20:58'!
initializeWithCatalog: aCatalog forCart: aCart
	catalog := aCatalog.
	cart:=aCart.!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'pdb 10/31/2022 21:21:20'!
Object subclass: #Cashier
	instanceVariableNames: 'cart catalog merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'pdb 10/31/2022 21:21:18' prior: 50557219!
initializeWithCatalog: aCatalog forCart: aCart withMerchantProcessor: aMerchantProcessor
	catalog := aCatalog.
	cart := aCart.
	merchantProcessor := aMerchantProcessor ! !
!Cashier methodsFor: 'checkout' stamp: 'pdb 10/31/2022 21:21:36' prior: 50556276!
debit: aQuantity from: aCard 
	merchantProcessor debit: aQuantity from: aCard! !

Object subclass: #MockMerchantProcessor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MockMerchantProcessor category: 'TusLibros' stamp: 'pdb 10/31/2022 21:26:18'!
Object subclass: #MockMerchantProcessor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MockMerchantProcessor methodsFor: 'no messages' stamp: 'pdb 10/31/2022 21:27:55'!
debit: anAmount from: aCreditCard
	
	! !
!MockMerchantProcessor methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:30:26' prior: 50557264!
debit: anAmount from: aCreditCard
	(aCreditCard number = '1111111111111111') ifTrue: [self error: self class tarjetaRobadaErrorMessage]
	! !
!MockMerchantProcessor methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:34:19' prior: 50557269!
debit: anAmount from: aCreditCard
	(aCreditCard number = '1111111111111111') ifTrue: [self error: self class tarjetaRobadaErrorMessage].
	(aCreditCard number = '2222222222222222') ifTrue: [self error: self class saldoInsuficienteErrorMessage].
	! !
!CreditCard class methodsFor: 'instance creation' stamp: 'pdb 10/31/2022 21:35:34' prior: 50556782!
withNumber: aCreditCardNumber andExpirationDate: anExpirationDate forOwner: anOwnerName
	"validar el owner name (no vacio post trim) y el credit card number que esperamos que sea un string con longitud 16 y que sean todos digitos"

	^self new initializeWithNumber: aCreditCardNumber andExpirationDate: anExpirationDate forOwner: anOwnerName! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 21:36:43' prior: 50556432!
createCashier: aCart
	
	^Cashier withCatalog: self defaultCatalog forCart: aCart withMerchantProcessor: MockMerchantProcessor new.! !

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'pdb 10/31/2022 21:37:29'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'mockMP'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'setUp/tearDown' stamp: 'pdb 10/31/2022 21:37:28' overrides: 16961394!
setUp
	mockMP = MockMerchantProcessor new.! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 21:37:39' prior: 50557302!
createCashier: aCart
	
	^Cashier withCatalog: self defaultCatalog forCart: aCart withMerchantProcessor: mockMP.! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:38:00'!
test05CheckoutCartWithStolenCardThrowsException

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	card := self createCardFor: Date yesterday.
	self should: [ cashier checkoutWithCard: card ] raise: Error - MessageNotUnderstood withMessageText: Cashier creditCardExpiredErrorMessage.
	
	! !
!MockMerchantProcessor class methodsFor: 'no messages' stamp: 'pdb 10/31/2022 21:39:48'!
stolenCard
	^CreditCard withNumber: '' andExpirationDate: Date tomorrow forOwner: 'patooooo'! !
!MockMerchantProcessor class methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:40:07' prior: 50557346!
stolenCard
	^CreditCard withNumber: '1111111111111111' andExpirationDate: Date tomorrow forOwner: 'patooooo'! !
!MockMerchantProcessor class methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:41:39'!
noFundsCard
	^CreditCard withNumber: '2222222222222222' andExpirationDate: Date tomorrow forOwner: 'patooooo'! !
!MockMerchantProcessor class methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:42:10'!
expiredCard
	^CreditCard withNumber: '2222222222222222' andExpirationDate: Date yesterday forOwner: 'patooooo'! !
!MockMerchantProcessor methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:43:19' prior: 50557277!
debit: anAmount from: aCreditCard
	(aCreditCard == self class stolenCard) ifTrue: [self error: self class tarjetaRobadaErrorMessage].
	(aCreditCard == self class noFundsCard) ifTrue: [self error: self class saldoInsuficienteErrorMessage].
	! !

Object subclass: #MockMerchantProcessor
	instanceVariableNames: ''
	classVariableNames: 'invalidCall'
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #MockMerchantProcessor
	instanceVariableNames: 'invalidCall'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MockMerchantProcessor category: 'TusLibros' stamp: 'pdb 10/31/2022 21:44:00'!
Object subclass: #MockMerchantProcessor
	instanceVariableNames: 'invalidCall'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MockMerchantProcessor methodsFor: 'nil' stamp: 'pdb 10/31/2022 21:44:36' overrides: 16920235!
initialize
	invalidCall := false! !
!MockMerchantProcessor methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:45:46' prior: 50557374!
debit: anAmount from: aCreditCard
	(aCreditCard == self class stolenCard) ifTrue: [self error: self class tarjetaRobadaErrorMessage].
	(aCreditCard == self class noFundsCard) ifTrue: [self error: self class saldoInsuficienteErrorMessage].
	(aCreditCard isExpiredOn: Date today) ifTrue: [invalidCall  := true]! !
!MockMerchantProcessor methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:45:52' prior: 50557407!
debit: anAmount from: aCreditCard
	(aCreditCard == self class stolenCard) ifTrue: [self error: self class tarjetaRobadaErrorMessage].
	(aCreditCard == self class noFundsCard) ifTrue: [self error: self class saldoInsuficienteErrorMessage].
	(aCreditCard isExpiredOn: Date today) ifTrue: [invalidCall  := true].! !
!MockMerchantProcessor methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:46:06'!
invalidCall
	^invalidCall! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:46:54' prior: 50557328!
test05CheckoutCartWithStolenCardThrowsException

	| cart cashier product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	self should: [ cashier checkoutWithCard: MockMerchantProcessor stolenCard ] raise: Error - MessageNotUnderstood withMessageText: Cashier creditCardExpiredErrorMessage.
	
	! !

Object subclass: #MerchantProcessor
	instanceVariableNames: 'invalidCall'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MerchantProcessor category: 'TusLibros' stamp: 'pdb 10/31/2022 21:47:48'!
Object subclass: #MerchantProcessor
	instanceVariableNames: 'invalidCall'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

MerchantProcessor subclass: #MockMerchantProcessor
	instanceVariableNames: 'invalidCall'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #MerchantProcessor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MerchantProcessor category: 'TusLibros' stamp: 'pdb 10/31/2022 21:48:56'!
Object subclass: #MerchantProcessor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

MerchantProcessor subclass: #MockMerchantProcessor
	instanceVariableNames: 'invalidCall'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MockMerchantProcessor category: 'TusLibros' stamp: 'pdb 10/31/2022 21:49:01'!
MerchantProcessor subclass: #MockMerchantProcessor
	instanceVariableNames: 'invalidCall'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MerchantProcessor class methodsFor: 'no messages' stamp: 'pdb 10/31/2022 21:49:54'!
stolenCardErrorMessage
	^'Tarjeta robada'! !
!MockMerchantProcessor methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:50:03' prior: 50557421!
debit: anAmount from: aCreditCard
	(aCreditCard == self class stolenCard) ifTrue: [self error: self class stolenCardErrorMessage].
	(aCreditCard == self class noFundsCard) ifTrue: [self error: self class saldoInsuficienteErrorMessage].
	(aCreditCard isExpiredOn: Date today) ifTrue: [invalidCall  := true].! !
!MerchantProcessor class methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:50:55'!
insufficientFundsErrorMessage
	^'Saldo insuficiente'! !
!MockMerchantProcessor methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:51:03' prior: 50557502!
debit: anAmount from: aCreditCard
	(aCreditCard == self class stolenCard) ifTrue: [self error: self class stolenCardErrorMessage].
	(aCreditCard == self class noFundsCard) ifTrue: [self error: self class insufficientFundsErrorMessage].
	(aCreditCard isExpiredOn: Date today) ifTrue: [invalidCall  := true].! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 21:51:32' prior: 50557438!
test05CheckoutCartWithStolenCardThrowsException

	| cart cashier product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	self should: [ cashier checkoutWithCard: MockMerchantProcessor stolenCard ] raise: Error - MessageNotUnderstood withMessageText: MerchantProcessor stolenCardErrorMessage .
	
	! !

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 21:51:35'!
ERROR!
!CashierTest methodsFor: 'setUp/tearDown' stamp: 'pdb 10/31/2022 21:52:02' prior: 50557317 overrides: 16961394!
setUp
	mockMP := MockMerchantProcessor new.! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 21:52:03'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 21:52:03'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 21:52:03'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:52:03'!
PASSED!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 21:52:03'!
FAILURE!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 21:52:03'!
FAILURE!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 21:53:04'!
FAILURE!
!MockMerchantProcessor methodsFor: 'as yet unclassified' stamp: 'pdb 10/31/2022 21:53:27' prior: 50557521!
debit: anAmount from: aCreditCard
	(aCreditCard = self class stolenCard) ifTrue: [self error: self class stolenCardErrorMessage].
	(aCreditCard = self class noFundsCard) ifTrue: [self error: self class insufficientFundsErrorMessage].
	(aCreditCard isExpiredOn: Date today) ifTrue: [invalidCall  := true].! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 21:53:28'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 21:53:28'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 21:53:28'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 21:53:28'!
PASSED!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 21:53:28'!
FAILURE!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 21:53:28'!
FAILURE!
!CreditCard methodsFor: 'testing' stamp: 'pdb 10/31/2022 22:09:29' overrides: 16901772!
= aCreditCard 
	
	^(self expirationDate = aCreditCard expirationDate) and:[self number = aCreditCard number] and:[self owner = aCreditCard owner]! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 22:09:38'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 22:09:38'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 22:09:38'!
ERROR!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 22:09:38'!
PASSED!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 22:09:38'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 22:09:43'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 22:12:15' prior: 50556805!
createCard
	
	^CreditCard withNumber: 0 andExpirationDate: Date tomorrow forOwner: 'lala'! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 22:12:27' prior: 50557648!
createCard
	
	^CreditCard withNumber: '00000000000000' andExpirationDate: Date tomorrow forOwner: 'lala'! !
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 22:12:49' prior: 50557037!
createCardFor: aDate 
	^CreditCard withNumber: '00000000000000' andExpirationDate: aDate tomorrow forOwner: 'lala'

	! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 22:12:51'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 22:12:51'!
ERROR!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 22:12:51'!
ERROR!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 22:12:51'!
ERROR!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 22:12:51'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 22:12:54'!
ERROR!

Object subclass: #CreditCard
	instanceVariableNames: 'expirationDate creditCardNumber ownerName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'pdb 10/31/2022 22:15:21'!
Object subclass: #CreditCard
	instanceVariableNames: 'expirationDate creditCardNumber ownerName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'accessing' stamp: 'pdb 10/31/2022 22:15:43' prior: 50556765!
number
	^creditCardNumber ! !
!CreditCard methodsFor: 'accessing' stamp: 'pdb 10/31/2022 22:15:56' prior: 50556772!
owner
	^creditCardNumber ! !

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 22:16:11'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 22:16:11'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 22:16:11'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 22:16:11'!
ERROR!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 22:16:11'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 22:16:11'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'pdb 10/31/2022 22:16:20' prior: 50557661!
createCardFor: aDate 
	^CreditCard withNumber: '00000000000000' andExpirationDate: aDate forOwner: 'lala'

	! !

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 22:16:22'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 22:16:24'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 22:16:24'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 22:16:24'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 22:16:24'!
PASSED!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 22:16:24'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 22:18:40'!
test06CheckoutCartWithFundlessCardThrowsException

	| cart cashier product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	self should: [ cashier checkoutWithCard: MockMerchantProcessor noFundsCard ] raise: Error - MessageNotUnderstood 	withMessageText: MerchantProcessor insufficientFundsErrorMessage 	.
	
	! !

!testRun: #CashierTest #test06CheckoutCartWithFundlessCardThrowsException stamp: 'pdb 10/31/2022 22:18:41'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 22:18:42'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 22:18:42'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 22:18:42'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 22:18:42'!
PASSED!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 22:18:42'!
PASSED!

!testRun: #CashierTest #test06CheckoutCartWithFundlessCardThrowsException stamp: 'pdb 10/31/2022 22:18:42'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 22:19:10'!
test07CheckoutCartWithExpiredCardDoesNotReachMP

	| cart cashier product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	self should: [ cashier checkoutWithCard: MockMerchantProcessor noFundsCard ] raise: Error - MessageNotUnderstood 	withMessageText: MerchantProcessor insufficientFundsErrorMessage 	.
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 22:21:44' prior: 50557800!
test07CheckoutCartWithExpiredCardDoesNotReachMP

	| cart cashier product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	self should: [ cashier checkoutWithCard: MockMerchantProcessor expiredCard ] raise: Error - MessageNotUnderstood 		withExceptionDo: [:anError | ].
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 10/31/2022 22:23:58' prior: 50557011!
test04CheckoutCartWithExpiredCardThrowsException

	| cart cashier product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	self 
	should: [ cashier checkoutWithCard: MockMerchantProcessor expiredCard ] 
	raise: Error - MessageNotUnderstood 
	withExceptionDo: [:anError | self assert: anError messageText equals: Cashier creditCardExpiredErrorMessage. 
						   self deny: mockMP invalidCall ].
	
	! !

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 22:24:02'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 10/31/2022 22:24:02'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 10/31/2022 22:24:02'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 10/31/2022 22:24:02'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 10/31/2022 22:24:02'!
PASSED!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 10/31/2022 22:24:02'!
PASSED!

!testRun: #CashierTest #test06CheckoutCartWithFundlessCardThrowsException stamp: 'pdb 10/31/2022 22:24:02'!
PASSED!

!testRun: #CashierTest #test07CheckoutCartWithExpiredCardDoesNotReachMP stamp: 'pdb 10/31/2022 22:24:02'!
PASSED!

----QUIT----(31 October 2022 22:24:34) CuisUniversity-5481.image priorSource: 7059698!

----STARTUP---- (3 November 2022 14:16:27) as C:\Users\Patricio\Desktop\windows64\CuisUniversity-5481.image!


Object subclass: #TusLibrosCatalog
	instanceVariableNames: 'items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #TusLibrosCatalog category: 'TusLibros' stamp: 'pdb 11/3/2022 14:16:57'!
Object subclass: #TusLibrosCatalog
	instanceVariableNames: 'items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CashierTest #test06CheckoutCartWithFundlessCardThrowsException stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!

!testRun: #CashierTest #test07CheckoutCartWithExpiredCardDoesNotReachMP stamp: 'pdb 11/3/2022 14:17:31'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:19:11' prior: 50557818!
test07CheckoutCartWithExpiredCardDoesNotReachMP

	| cart cashier product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	self should: [ cashier checkoutWithCard: MockMerchantProcessor expiredCard ] raise: Error - MessageNotUnderstood 		withExceptionDo: [:anError | self assert: mockMP invalidCall].
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:24:14' prior: 50557951!
test07CheckoutCartWithExpiredCardDoesNotReachMP

	| cart cashier product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	self 
	should: [ cashier checkoutWithCard: MockMerchantProcessor expiredCard ] 
	raise: Error - MessageNotUnderstood 
	withExceptionDo: [:anError | self deny: mockMP invalidCall ].
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:24:36' prior: 50557835!
test04CheckoutCartWithExpiredCardThrowsException

	| cart cashier product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	self 
	should: [ cashier checkoutWithCard: MockMerchantProcessor expiredCard ] 
	raise: Error - MessageNotUnderstood 
	withMessageText: Cashier creditCardExpiredErrorMessage
	
	! !

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 11/3/2022 14:24:39'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 11/3/2022 14:24:39'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 11/3/2022 14:24:39'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 11/3/2022 14:24:39'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 11/3/2022 14:24:39'!
PASSED!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 11/3/2022 14:24:39'!
PASSED!

!testRun: #CashierTest #test06CheckoutCartWithFundlessCardThrowsException stamp: 'pdb 11/3/2022 14:24:39'!
PASSED!

!testRun: #CashierTest #test07CheckoutCartWithExpiredCardDoesNotReachMP stamp: 'pdb 11/3/2022 14:24:39'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:25:36' prior: 50556699!
test03CheckoutCartWithManyItemsReturnsTotal

	| cart cashier card product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	card := self createCard.
	self assert: ((self defaultCatalog priceOf: product1) + (self defaultCatalog priceOf: product2)) equals: (cashier checkoutWithCard: card).
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:25:55' prior: 50557987!
test04CheckoutCartWithExpiredCardThrowsException

	| cart cashier product1 |
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	cart add: product1.
	cashier := self createCashier: cart.
	
	self 
	should: [ cashier checkoutWithCard: MockMerchantProcessor expiredCard ] 
	raise: Error - MessageNotUnderstood 
	withMessageText: Cashier creditCardExpiredErrorMessage
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:26:11' prior: 50557534!
test05CheckoutCartWithStolenCardThrowsException

	| cart cashier product1|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	cart add: product1.
	cashier := self createCashier: cart.
	
	self should: [ cashier checkoutWithCard: MockMerchantProcessor stolenCard ] raise: Error - MessageNotUnderstood withMessageText: MerchantProcessor stolenCardErrorMessage .
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:26:22' prior: 50558064!
test05CheckoutCartWithStolenCardThrowsException

	| cart cashier product1|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	cart add: product1.
	cashier := self createCashier: cart.
	
	self 
	should: [ cashier checkoutWithCard: MockMerchantProcessor stolenCard ] 
	raise: Error - MessageNotUnderstood 
	withMessageText: MerchantProcessor stolenCardErrorMessage .
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:26:37' prior: 50557758!
test06CheckoutCartWithFundlessCardThrowsException

	| cart cashier product1 product2|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	product2 := self defaultCatalog items at: 2.
	cart add: product1; add: product2.
	cashier := self createCashier: cart.
	
	self 
	should: [ cashier checkoutWithCard: MockMerchantProcessor noFundsCard ] 
	raise: Error - MessageNotUnderstood 	
	withMessageText: MerchantProcessor insufficientFundsErrorMessage 	.
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:26:51' prior: 50557969!
test07CheckoutCartWithExpiredCardDoesNotReachMP

	| cart cashier product1|
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	cart add: product1.
	cashier := self createCashier: cart.
	
	self 
	should: [ cashier checkoutWithCard: MockMerchantProcessor expiredCard ] 
	raise: Error - MessageNotUnderstood 
	withExceptionDo: [:anError | self deny: mockMP invalidCall ].
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:26:59' prior: 50558094!
test06CheckoutCartWithFundlessCardThrowsException

	| cart cashier product1 |
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	cart add: product1.
	cashier := self createCashier: cart.
	
	self 
	should: [ cashier checkoutWithCard: MockMerchantProcessor noFundsCard ] 
	raise: Error - MessageNotUnderstood 	
	withMessageText: MerchantProcessor insufficientFundsErrorMessage 	.
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:28:30'!
expectErrorMessage: anErrorMessage whenUsingCard: aCreditCard

	| cart cashier product1 |
	cart := self createCart.
	product1 := self defaultCatalog items at: 1.
	cart add: product1.
	cashier := self createCashier: cart.
	
	self 
	should: [ cashier checkoutWithCard: aCreditCard ] 
	raise: Error - MessageNotUnderstood 
	withMessageText: anErrorMessage
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:29:27' prior: 50558049!
test04CheckoutCartWithExpiredCardThrowsException

	self expectErrorMessage: Cashier creditCardExpiredErrorMessage whenUsingCard: MockMerchantProcessor expiredCard.
	
	! !

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 11/3/2022 14:29:29'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 11/3/2022 14:29:29'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 11/3/2022 14:29:29'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 11/3/2022 14:29:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 11/3/2022 14:29:29'!
PASSED!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 11/3/2022 14:29:29'!
PASSED!

!testRun: #CashierTest #test06CheckoutCartWithFundlessCardThrowsException stamp: 'pdb 11/3/2022 14:29:29'!
PASSED!

!testRun: #CashierTest #test07CheckoutCartWithExpiredCardDoesNotReachMP stamp: 'pdb 11/3/2022 14:29:29'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:30:02' prior: 50558079!
test05CheckoutCartWithStolenCardThrowsException

	self expectErrorMessage: MerchantProcessor stolenCardErrorMessage whenUsingCard: MockMerchantProcessor stolenCard.
	! !
!CashierTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:30:23' prior: 50558127!
test06CheckoutCartWithFundlessCardThrowsException

	self expectErrorMessage: MerchantProcessor insufficientFundsErrorMessage whenUsingCard: MockMerchantProcessor noFundsCard.! !
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:31:15' prior: 50552374!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := self createCart.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:31:21' prior: 50552511!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: self itemSellByTheStore withOccurrences: 0 ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:31:25' prior: 50552603!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: self itemNotSellByTheStore withOccurrences:  2 ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:33:01'!
block: aBlockThatThrows shouldThrowWithExceptionDo: aBlockThatHandlesError

	| cart |
	
	cart := self createCart.
	
	self 
		should: aBlockThatThrows
		raise: Error - MessageNotUnderstood
		withExceptionDo: aBlockThatHandlesError! !
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:33:12' prior: 50558248!
block: aBlockThatThrows shouldThrowWithExceptionDo: aBlockThatHandlesError

	self 
		should: aBlockThatThrows
		raise: Error - MessageNotUnderstood
		withExceptionDo: aBlockThatHandlesError! !
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:38:14'!
addingItem: anItem withOcurrences: aNumberOfOccurrences shouldThrowWithExceptionDo: aBlockThatHandlesError

	| cart |
	
	cart := self createCart.

	self 
		should: [ cart add: anItem withOccurrences: aNumberOfOccurrences]
		raise: Error - MessageNotUnderstood
		withExceptionDo: aBlockThatHandlesError! !

!methodRemoval: CartTest #block:shouldThrowWithExceptionDo: stamp: 'pdb 11/3/2022 14:38:16'!
block: aBlockThatThrows shouldThrowWithExceptionDo: aBlockThatHandlesError

	self 
		should: aBlockThatThrows
		raise: Error - MessageNotUnderstood
		withExceptionDo: aBlockThatHandlesError!
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:39:23' prior: 50558209!
test02CanNotAddItemsThatDoNotBelongToStore

	self addingItem: self itemNotSellByTheStore withOcurrences: 1 shouldThrowWithExceptionDo: [ :anError :aCart |
			self assert: anError messageText equals: aCart invalidItemErrorMessage.
			self assert: aCart isEmpty ].! !
!CartTest methodsFor: 'support' stamp: 'pdb 11/3/2022 14:41:26' prior: 50558266!
addingItem: anItem withOcurrences: aNumberOfOccurrences shouldThrowWithExceptionDo: aBlockThatHandlesError

	| cart |
	
	cart := self createCart.

	self 
		should: [ cart add: anItem withOccurrences: aNumberOfOccurrences]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |			aBlockThatHandlesError value: anError value: cart] ! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 11/3/2022 14:41:28'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 11/3/2022 14:41:28'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 11/3/2022 14:41:28'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 11/3/2022 14:41:28'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 11/3/2022 14:41:28'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 11/3/2022 14:41:28'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 11/3/2022 14:41:28'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 11/3/2022 14:41:28'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:42:30' prior: 50558222!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: self itemSellByTheStore withOccurrences: 0 ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ].
		
		self addingItem: self itemSellByTheStore withOcurrences: 0 shouldThrowWithExceptionDo: [ :anError :aCart |
			self assert: anError messageText equals: aCart invalidQuantityErrorMessage.
			self assert: aCart isEmpty ].! !
!Cart class methodsFor: 'error messages' stamp: 'pdb 11/3/2022 14:42:45'!
invalidItemErrorMessage
	
	^'Item is not in catalog'! !

!methodRemoval: Cart #invalidItemErrorMessage stamp: 'pdb 11/3/2022 14:42:45'!
invalidItemErrorMessage
	
	^'Item is not in catalog'!
!Cart class methodsFor: 'error messages' stamp: 'pdb 11/3/2022 14:42:56'!
invalidQuantityErrorMessage
	
	^'Invalid number of items'! !

!methodRemoval: Cart #invalidQuantityErrorMessage stamp: 'pdb 11/3/2022 14:42:56'!
invalidQuantityErrorMessage
	
	^'Invalid number of items'!
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:43:32' prior: 50558287!
test02CanNotAddItemsThatDoNotBelongToStore

	self addingItem: self itemNotSellByTheStore withOcurrences: 1 shouldThrowWithExceptionDo: [ :anError :aCart |
			self assert: anError messageText equals: Cart invalidItemErrorMessage.
			self assert: aCart isEmpty ].! !
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:43:40' prior: 50558337!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: self itemSellByTheStore withOccurrences: 0 ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ].
		
		self addingItem: self itemSellByTheStore withOcurrences: 0 shouldThrowWithExceptionDo: [ :anError :aCart |
			self assert: anError messageText equals: Cart invalidQuantityErrorMessage.
			self assert: aCart isEmpty ].! !
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:43:50' prior: 50558235!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: self itemNotSellByTheStore withOccurrences:  2 ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'support' stamp: 'pdb 11/3/2022 14:45:48'!
assertAddingItem: anItem withOcurrences: aNumberOfOccurrences leavesCartEmptyAndThrowsErrorWithMessage: anErrorMessage

	| cart |
	
	cart := self createCart.

	self 
		should: [ cart add: anItem withOccurrences: aNumberOfOccurrences]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |		self assert: anError messageText equals: anErrorMessage. self assert: cart isEmpty ] ! !

!methodRemoval: CartTest #addingItem:withOcurrences:shouldThrowWithExceptionDo: stamp: 'pdb 11/3/2022 14:45:53'!
addingItem: anItem withOcurrences: aNumberOfOccurrences shouldThrowWithExceptionDo: aBlockThatHandlesError

	| cart |
	
	cart := self createCart.

	self 
		should: [ cart add: anItem withOccurrences: aNumberOfOccurrences]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |			aBlockThatHandlesError value: anError value: cart] !
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:46:41' prior: 50558375!
test02CanNotAddItemsThatDoNotBelongToStore

	self assertAddingItem: self itemNotSellByTheStore withOcurrences: 1 leavesCartEmptyAndThrowsErrorWithMessage: Cart invalidItemErrorMessage.! !
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:47:21' prior: 50558386!
test04CanNotAddNonPositiveNumberOfItems
		
	self assertAddingItem: self itemSellByTheStore withOcurrences: 0 leavesCartEmptyAndThrowsErrorWithMessage: Cart invalidQuantityErrorMessage.! !

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 11/3/2022 14:47:22'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'pdb 11/3/2022 14:47:54' prior: 50558406!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	self assertAddingItem: self itemNotSellByTheStore withOcurrences: 2 leavesCartEmptyAndThrowsErrorWithMessage: Cart invalidItemErrorMessage.! !

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 11/3/2022 14:47:55'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 11/3/2022 14:48:03'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 11/3/2022 14:48:03'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 11/3/2022 14:48:03'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 11/3/2022 14:48:03'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 11/3/2022 14:48:03'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 11/3/2022 14:48:03'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 11/3/2022 14:48:03'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 11/3/2022 14:48:03'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 11/3/2022 14:48:05'!
ERROR!
!Cart methodsFor: 'assertions' stamp: 'pdb 11/3/2022 14:48:30' prior: 50552294!
assertIsValidItem: anItem

	(catalog includes: anItem) ifFalse: [ self error: self class invalidItemErrorMessage ]! !

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 11/3/2022 14:48:31'!
PASSED!
!Cart methodsFor: 'assertions' stamp: 'pdb 11/3/2022 14:48:48' prior: 50552300!
assertIsValidQuantity: aQuantity

	aQuantity strictlyPositive ifFalse: [ self error: self class invalidQuantityErrorMessage ]! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 11/3/2022 14:48:49'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 11/3/2022 14:48:49'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 11/3/2022 14:48:49'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 11/3/2022 14:48:49'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 11/3/2022 14:48:49'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 11/3/2022 14:48:49'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 11/3/2022 14:48:49'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 11/3/2022 14:48:49'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutEmptyCart stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CashierTest #test02CheckoutCartWithOneItemReturnsTotal stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CashierTest #test03CheckoutCartWithManyItemsReturnsTotal stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CashierTest #test04CheckoutCartWithExpiredCardThrowsException stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CashierTest #test05CheckoutCartWithStolenCardThrowsException stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CashierTest #test06CheckoutCartWithFundlessCardThrowsException stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!

!testRun: #CashierTest #test07CheckoutCartWithExpiredCardDoesNotReachMP stamp: 'pdb 11/3/2022 14:48:52'!
PASSED!